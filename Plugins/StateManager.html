<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>StateManager &mdash; Chef 0.9 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Chef 0.9 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Chef 0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="statemanager">
<h1>StateManager<a class="headerlink" href="#statemanager" title="Permalink to this headline">¶</a></h1>
<p>StateManager divides the path exploration in multiple steps by implementing the notion of execution barriers.
A barrier is a user-defined code location. Whenever a path reaches the barrier, StateManager suspends it.
When all paths reached the barrier or a timeout occurred, StateManager kills all paths except one that reached the barrier.
StateManager then resumes the remaining path.</p>
<p>StateManager is useful to explore execution paths in modules that have multiple entry points (e.g., library or device drivers).
A client plugin may catch all returns from entry points and check the status code of the returned function. If the function failed,
the client plugin may kill the path and otherwise invoke the <tt class="docutils literal"><span class="pre">StateManager::succeedState()</span></tt> method to suspend the execution of the path.
When there are no more paths to execute, StateManager automatically kills all but one successful.</p>
<p>NdisHandlers is a plugin that uses StateManager to exercise entry points of device drivers.
You can refer to NdisHandlers as an example of how to use StateManager.</p>
<p>StateManager has the following limitations:</p>
<ul class="simple">
<li>It is not possible to choose which paths to kill. StateManager kills all but one without any guarantee about which one is kept.</li>
<li>StateManager does not handle multiple barriers properly. Distinct barriers are considered to be just one.</li>
</ul>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="timeout-seconds">
<h3>timeout=[seconds]<a class="headerlink" href="#timeout-seconds" title="Permalink to this headline">¶</a></h3>
<p>If no more new code is covered after the specified number of seconds, kill all states except one successful.
If the timeout is zero, continue exploration indefinitely until a client plugin explicitly instructs StateManager to kill the states.</p>
</div>
</div>
<div class="section" id="required-plugins">
<h2>Required Plugins<a class="headerlink" href="#required-plugins" title="Permalink to this headline">¶</a></h2>
<p>StateManager only exposes an API that must be called from a client plugin to be useful.
A client plugin would typically use the <a class="reference external" href="FunctionMonitor.html">FunctionMonitor</a> plugin to intercept all function returns, check the status of the
returned function, and decide whether to kill the execution path or suspend it using StateManager.</p>
</div>
<div class="section" id="configuration-sample">
<h2>Configuration Sample<a class="headerlink" href="#configuration-sample" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>pluginsConfig.StateManager = {
    timeout = 60
}
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">StateManager</a><ul>
<li><a class="reference internal" href="#options">Options</a><ul>
<li><a class="reference internal" href="#timeout-seconds">timeout=[seconds]</a></li>
</ul>
</li>
<li><a class="reference internal" href="#required-plugins">Required Plugins</a></li>
<li><a class="reference internal" href="#configuration-sample">Configuration Sample</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/Plugins/StateManager.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Chef 0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Stefan Bucur.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>